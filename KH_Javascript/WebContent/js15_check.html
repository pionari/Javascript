<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
#colorbox {
	width: 320px;
	height: 320px;
	position: relative;
}

#red, #green, #blue, #yellow {
	width: 150px;
	height: 150px;
	border: 1px solid black;
	position: absolute;
}

#green {
	left: 160px;
}

#blue {
	top: 160px;
}

#yellow {
	left: 160px;
	top: 160px;
}
</style>

<script type="text/javascript">
	function allsel(check){
		var chks = document.getElementsByName("chk");
		for(var i = 0; i < chks.length; i++){
			chks[i].checked = check;
		}
	}
	
	function sel(){
		var chks = document.getElementsByName("chk");
		
		for (var i = 0; i < chks.length; i++){
			if(chks[i].checked){
				document.getElementById(chks[i].value).style.backgroundColor = chks[i].value;
			}else{
				document.getElementById(chks[i].value).style.backgroundColor = "";
			}
		}
	} 
	

	/*function clearDiv() {
		var chks = document.getElementsByName("chk");
		for (var i = 0; i < chks.length; i++) {
			document.getElementById(chks[i].value).style.backgroundColor = "";
		}
	}*/
	
	function clearDiv(){
		var colorbox = document.querySelectorAll("#colorbox > div");
		for (var i = 0; i < colorbox.length; i++){
			colorbox[i].style.backgroundColor="";
		}
		
		document.getElementsByName("all")[0].checked =false;
		allsel(false);
		
	}
	
	
</script>

</head>
<body>

	<div id="colorbox">
		<div id="red">red</div>
		<div id="green">green</div>
		<div id="blue">blue</div>
		<div id="yellow">yellow</div>

	</div>

	<div id="base">
		<form>
			<input type="checkbox" name="all" onclick="allsel(this.checked);" />
			전체선택 <br /> <input type="checkbox" name="chk" value="red" />빨강<br />
			<input type="checkbox" name="chk" value="green" />초록<br /> <input
				type="checkbox" name="chk" value="blue" />파랑<br /> <input
				type="checkbox" name="chk" value="yellow" />노랑<br /> <input
				type="button" value="선택" onclick="sel();" /> <input type="button"
				value="초기화" onclick="clearDiv();" />
		</form>
	</div>

</body>
</html>